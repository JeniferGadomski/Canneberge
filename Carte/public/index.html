<!doctype html>
<html ng-app="app">
<head>

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-touch.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-animate.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-sanitize.js"></script>
    <script src="http://ui-grid.info/docs/grunt-scripts/csv.js"></script>
    <script src="http://ui-grid.info/docs/grunt-scripts/pdfmake.js"></script>
    <script src="http://ui-grid.info/docs/grunt-scripts/vfs_fonts.js"></script>
    <script src="js/components/angular-ui-grid/ui-grid.js"></script>

    <script src="js/angular-ui-bootstrap-modal.js"></script>
    <!--Include google maps-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA47o2l_ZHyAnwNchSLakCJh89Lc0aCWtk&libraries=placeses,visualization,drawing,geometry,places"></script>

    <link rel="stylesheet" href="http://ui-grid.info/release/ui-grid.css" type="text/css">


    <!-- Include jquery-->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>

    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="stylesheets/style.css" type="text/css">
    <link rel="stylesheet" href="stylesheets/infowindow.css" type="text/css">


    <!-- Include SweetAlert -->
    <script src="bower_components/ngSweetAlert/SweetAlert.min.js"></script>
    <script src="bower_components/sweetalert/dist/sweetalert.min.js"></script>
    <link rel="stylesheet" href="bower_components/sweetalert/dist/sweetalert.css">



    <!--Angularjs module-->
    <script src="js/app.js"></script>
    <script src="js/controller/mapController.js"></script>
    <script src="js/controller/mainController.js"></script>
    <script src="js/controller/gridController.js"></script>
    <script src="js/controller/weatherController.js"></script>
    <script src="js/cannebergeApiService.js"></script>

    <script src="bower_components/proj4/dist/proj4-src.js"></script>
    <script src="js/retrieveApiKey.js"></script>



    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-93251538-1', 'auto');
  </script>
  <!-- End Google Analytics -->

    <title>Carte</title>


</head>
<body ng-controller="mainController">
    <div class="container-fluid full-height">
        <div class="row header">
            <div class="col-sm-4">
                <img src="/images/logo.svg" height="40" width="40" style="float: left">
                <h2 class="ferme-title">{{ ferme.name }}</h2>
            </div>
            <div class="col-sm-3 align-right">
                <div ng-include="'partiel/weather.html'"></div>
            </div>
            <div class="col-sm-5">
                    <button class="btn red" id="btnSave" ng-click="saveFerme()" title="Sauvegarder" ><span class="glyphicon glyphicon-floppy-save"></span></button>
                    <button class="btn red" ng-click="pop()" >Calcul 1</button>
                    <a class="btn red" href="http://portail.canneberge.io/logout" >DÃ©connextion</a>


            </div>
        </div>
        <div class="row full-height content">
            <div class="col-sm-7 full-height col-map" id="col-map" ng-controller="mapController">
                <div id="map" class="full-height" ng-mousemove="updateLatLng($event)"></div>
                <div id="over_map">
                    <div id="coord_display">
                        <div style="padding-bottom: 5px;">
                            {{currentCoord.lat}}, {{currentCoord.lng}}
                        </div>
                        <div>
                            {{currentCoord.utmx}}, {{currentCoord.utmy}}
                        </div>
                        <div ng-if="currentField.hectare !== undefined" style="padding-top: 5px;">
                            {{currentField.hectare}} ha
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-5 full-height col-grid" id="col-table" ng-controller="gridController">
                <div ui-grid="gridOptions"
                     ui-grid-edit
                     ui-grid-move-columns
                     ui-grid-resize-columns
                     ui-grid-cellNav
                     ui-grid-selection
                     ui-grid-exporter
                     ui-grid-importer
                     class="myGrid full-height" ></div>
                <div class="footer-grid">
                    <div class="btn-group" role="group">
                        <button class="btn btn-group red" role="group" ng-click="addColumn()" title="Ajouter"><span class="glyphicon glyphicon-plus-sign"></span></button>
                        <button class="btn btn-group red" role="group" ng-click="resetHide()"><span class="glyphicon glyphicon-eye-open" title="Afficher toutes les colonnes"></span> <span class="badge badge-default badge-pill">{{nbHideColumn}}</span> </button>
                    </div>
                </div>
            </div>
        </div>
    </div>





</body>

</html>
